<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <title>Survey</title>

    <!-- Referencing Bootstrap so we can utilize their code-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

    <!-- Font Awesome Glyphicons-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">

    <!-- Referencing Bootstrap so we can utilize their chosen css code -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>

    <!-- JQUERY -->
    <script src="https://code.jquery.com/jquery.js"></script>

</head>

<body class="bg-light">
    <div class="container">

            <div class="row bg-white">
                <div class="col-lg-12 col-sm-12 col-xs-12 bg-white text-black">
                    <h1>Survey Questions</h1>
                    <hr>

                    <h2><strong>About you</strong></h2>
                    <h3>Name (required)</h3>
                    <input type="text" id="name" class="form-control" required="">
                    <h3>Link to Photo Image (required)</h3>
                    <input type="text" id="photo" class="form-control" required="">
                    <br></br>

                    <h2><strong>Question 1</strong></h2>
                    <h4>You love to be lively?</h4>

                    <select class="chosen-select" id="q1">
                        <option value = ""></option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>

                    <br></br>

                    <h2><strong>Question 2</strong></h2>
                    <h4>You love to be tired?</h4>

                    <select class="chosen-select" id="q2">
                        <option value = ""></option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>

                    <br></br>

                    <h2><strong>Question 3</strong></h2>
                    <h4>You love to watch tv/movies/netflix?</h4>

                    <select class="chosen-select" id="q3">
                        <option value = ""></option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>

                    <br></br>

                    <h2><strong>Question 4</strong></h2>
                    <h4>You love tesla?</h4>

                    <select class="chosen-select" id="q4">
                        <option value = ""></option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>

                    <br></br>

                    <h2><strong>Question 5</strong></h2>
                    <h4>You love basketball?</h4>

                    <select class="chosen-select" id="q5">
                        <option value = ""></option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>

                    <br></br>

                    <h2><strong>Question 6</strong></h2>
                    <h4>You love the jonas brothers?</h4>

                    <select class="chosen-select" id="q6">
                        <option value = ""></option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>

                    <br></br>

                    <h2><strong>Question 7</strong></h2>
                    <h4>You love babysitting?</h4>

                    <select class="chosen-select" id="q7">
                        <option value = ""></option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>

                    <br></br>

                    <h2><strong>Question 8</strong></h2>
                    <h4>You love singing?</h4>

                    <select class="chosen-select" id="q8">
                        <option value = ""></option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>

                    <br></br>

                    <h2><strong>Question 9</strong></h2>
                    <h4>You love kittens?</h4>

                    <select class="chosen-select" id="q9">
                        <option value = ""></option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>

                    <br></br>

                    <h2><strong>Question 10</strong></h2>
                    <h4>You love the chocolate bar 3 Musketeers?</h4>

                    <select class="chosen-select" id="q10">
                        <option value = ""></option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>

                    <br></br>
                    
                </div>
                
                <!-- Submit Button -->
                <button type="submit" class="btn btn-primary btn-lg btn-block submit">
                    Submit
                </button>
        </div>
</body>
</html>

<!-- HANDLES HOW FORM DATA IS SENT TO OUR SERVER -->
<script type="text/javascript">
    // Creating Front-end JavaScript which "POSTS" our form data to our express server
    // On submit jQuery grabs all of the fields then sends a post request to our API
    // API recognizes the route (/api/tables)... and then runs the associated code (found in api-routes.js)
    // In this case the associated code "saves" the data to the friends.js
  
    let userAnswers = [];

    $(".submit").on("click", function(event) {
      event.preventDefault();
  
      // Grabbing the form elements
      let userInput = {
        name: $("#name").val().trim(),
        photo: $("#photo").val().trim(),
        question1: parseInt($("#q1").val().trim()),
        question2: parseInt($("#q2").val().trim()),
        question3: parseInt($("#q3").val().trim()),
        question4: parseInt($("#q4").val().trim()),
        question5: parseInt($("#q5").val().trim()),
        question6: parseInt($("#q6").val().trim()),
        question7: parseInt($("#q7").val().trim()),
        question8: parseInt($("#q8").val().trim()),
        question9: parseInt($("#q9").val().trim()),
        question10: parseInt($("#q10").val().trim())
      };
      //storing all of user answers in array
      for(var key in userInput){
        userAnswers.push(userInput[key]);
      }
      console.log(userAnswers);
      
  
      // Essentially we give it a URL, we give it the object we want to send, then we have a "callback".
      // The callback is the response of the server. In our case, we set up code in api-routes that "returns" true or false
  
 /*      $.post("/api/tables", userInput,
        function(data) {
  
          // Clear the form when submitting
          $("#reserve-name").val("");
          $("#reserve-phone").val("");
          $("#reserve-email").val("");
          $("#reserve-unique-id").val("");
  
        }); */
  
    });
  
  </script>